<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8" />
    <title>Download page</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.jpg">
    <link rel="stylesheet" href="font.css" />
    <link rel="stylesheet" href="main.css" />
</head>
<body>
<button id="darkmodeswitch" hidden>dark mode on/off</button>
<nav class="nav">
  <div class="nav-left">
    <a class="nav-item" href="index.html">THRIVE4</a>
  </div>

  <label for="menu-toggle" class="nav-toggle">&equiv;</label>
  <input type="checkbox" id="menu-toggle" class="is-hidden"/>

  <div class="nav-right nav-menu">
    <a class="nav-item" href="about.html">About</a>
    <a class="nav-item" href="#" onclick="document.getElementById('myModal').style.display='block'">imageviewer</a>
    <a class="nav-item" href="" onclick="switchtheme(); id='darkmodeswitch';">dark mode</a>
  </div>
</nav>

<br><br><br>
<div class="container">
     <div class="row">
        <div class="dropdown"><a href="githubtile.html">
        <svg id="tileview" fill="grey" viewBox="0 0 1400 1400"><path d="M313 333H153q-8 0-14-6t-6-14V153q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zm265 0H418q-8 0-14-6t-6-14V153q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zm265 0H683q-8 0-14-6t-6-14V153q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zM313 598H153q-8 0-14-6t-6-14V418q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zm265 0H418q-8 0-14-6t-6-14V418q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zm265 0H683q-8 0-14-6t-6-14V418q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zM313 863H153q-8 0-14-6t-6-14V683q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zm265 0H418q-8 0-14-6t-6-14V683q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6zm265 0H683q-8 0-14-6t-6-14V683q0-8 6-14t14-6h160q8 0 14 6t6 14v160q0 8-6 14t-14 6z"></path></svg>
        </a><div class="dropdown-content"><p>tile view</p></div></div>

        <div class="dropdown"><a href="githublist.html">
        <svg id="listview" fill="grey" onclick="listview.style.fill='black';" viewBox="0 0 1400 1400"><path d="M582 707H166v83h416v-83zm250-333H166v83h666v-83zM166 624h666v-83H166v83zm0-416v83h666v-83H166z"></path></svg>
        </a><div class="dropdown-content"><p>list view</p></div></div>

        <div class="dropdown"><a href="githubdata.html">
        <svg id="dataview" fill="grey" onclick="dataview.style.fill='black';" viewBox="0 0 0020 0020"><path d="M2.71429 10.21429V11.5q0 .0871-.0636.15067-.0636.0636-.15067.0636H1.214306q-.08705 0-.15067-.0636Q1 11.58706 1 11.5v-1.28571q0-.0871.06362-.15067.06362-.0636.15067-.0636H2.5q.0871 0 .15067.0636.0636.0636.0636.15067zm0-2.57143v1.28572q0 .087-.0636.15067-.0636.0636-.15067.0636H1.214306q-.08705 0-.15067-.0636Q1 9.01563 1 8.92858V7.64286q0-.087.06362-.15067.06362-.0636.15067-.0636H2.5q.0871 0 .15067.0636.0636.0636.0636.15067zm0-2.57143v1.28572q0 .087-.0636.15067-.0636.0636-.15067.0636H1.214306q-.08705 0-.15067-.0636Q1 6.4442 1 6.35715V5.07143q0-.087.06362-.15067.06362-.0636.15067-.0636H2.5q.0871 0 .15067.0636.0636.0636.0636.15067zm0-2.57143v1.28572q0 .0871-.0636.15067-.0636.0636-.15067.0636H1.214306q-.08705 0-.15067-.0636Q1 3.87277 1 3.78572V2.5q0-.0871.06362-.15067.06362-.0636.15067-.0636H2.5q.0871 0 .15067.0636.0636.0636.0636.15067z"></path><path d="M13 10.21429V11.5q0 .0871-.0636.15067-.0636.0636-.15067.0636h-9q-.087 0-.15067-.0636-.0636-.0636-.0636-.15067v-1.28571q0-.0871.0636-.15067.0636-.0636.15067-.0636h9q.0871 0 .15067.0636.0636.0636.0636.15067zm0-2.57143v1.28572q0 .087-.0636.15067-.0636.0636-.15067.0636h-9q-.087 0-.15067-.0636-.0636-.0636-.0636-.15067V7.64286q0-.087.0636-.15067.0636-.0636.15067-.0636h9q.0871 0 .15067.0636.0636.0636.0636.15067zm0-2.57143v1.28572q0 .087-.0636.15067-.0636.0636-.15067.0636h-9q-.087 0-.15067-.0636-.0636-.0636-.0636-.15067V5.07143q0-.087.0636-.15067.0636-.0636.15067-.0636h9q.0871 0 .15067.0636.0636.0636.0636.15067zM13 2.5v1.28572q0 .0871-.0636.15067-.0636.0636-.15067.0636h-9q-.087 0-.15067-.0636-.0636-.0636-.0636-.15067V2.5q0-.0871.0636-.15067.0636-.0636.15067-.0636h9q.0871 0 .15067.0636Q13 2.41293 13 2.5z"></path></svg>
        </a><div class="dropdown-content"><p>data view</p></div></div>
        <div class="dropdown"><a href="githublist.html"><span class="icon icon-list"></span></a><div class="dropdown-content"><p>list view</p></div></div>
     </div>
     <div class="row">
<!-- generated tiles !-->
<p id="reponame"></p>
</div></div>

<!-- dummy image as placeholder for image overlay !-->
<img id="myImg" src="">

<!-- overlay for image navigation -->
<div id="myModal" class="modal">
  <span class="close">&times;</span>
   <p id="time"></p>
   <p id="date"></p>
    <div class="w3-content w3-display-container">
        <div class="w3-display-container mySlides">
          <img class="w3-animate-left ovimage" src="https://unsplash.it/300?random">
          <div class="w3-display-bottomleft-stretch w3-container w3-padding-8 w3-black">
            A
          </div>
        </div>

        <div class="w3-display-container mySlides">
          <img class="w3-animate-left ovimage" src="https://unsplash.it/600?random">
          <div class="w3-display-bottomleft-stretch w3-container w3-padding-8 w3-black">
            B
          </div>
        </div>

        <div class="w3-display-container mySlides">
          <img class="w3-animate-left ovimage" src="https://unsplash.it/900?random">
          <div class="w3-display-bottomleft-stretch w3-container w3-padding-8 w3-black">
            C
          </div>
        </div>

        <div class="w3-display-container mySlides">
          <img class="w3-animate-left ovimage" src="https://unsplash.it/1200?random">
          <div class="w3-display-bottomleft-stretch w3-container w3-padding-8 w3-black">
            D
          </div>
        </div>

        <div class="w3-display-container mySlides">
          <img class="w3-animate-left ovimage" src="images/01.jpg">
          <div class="w3-display-bottomleft-stretch w3-container w3-padding-8 w3-black">
            E
          </div>
        </div>
        <div class="w3-display-container mySlides">
          <img class="w3-animate-left ovimage" src="images/02.jpg">
          <div class="w3-display-bottomleft-stretch w3-container w3-padding-8 w3-black">
            F
          </div>
        </div>
        <div class="w3-display-container mySlides">
          <img class="w3-animate-left ovimage" src="images/03.jpg">
          <div class="w3-display-bottomleft-stretch w3-container w3-padding-8 w3-black">
            G
          </div>
        </div>

        <!-- image navigation left and right -->
        <div class="w3-text-white w3-display-middle" style="top:350px;width:90%">
             <div class="w3-left w3-hover-text-khaki"  onclick="plusDivs(-1)">&#10094;</div>
             <div class="w3-right w3-hover-text-khaki" onclick="plusDivs(1)">&#10095;</div>
        </div>

        <!-- <div class="w3-row-padding w3-section"> -->
        <div class="ovthumbbox">
        <img class="demo w3-opacity w3-hover-opacity-off ovthumb" src="https://unsplash.it/300?random"  onclick="currentDiv(1)">
        <img class="demo w3-opacity w3-hover-opacity-off ovthumb" src="https://unsplash.it/600?random"  onclick="currentDiv(2)">
        <img class="demo w3-opacity w3-hover-opacity-off ovthumb" src="https://unsplash.it/900?random"  onclick="currentDiv(3)">
        <img class="demo w3-opacity w3-hover-opacity-off ovthumb" src="https://unsplash.it/1200?random" onclick="currentDiv(4)">
        <img class="demo w3-opacity w3-hover-opacity-off ovthumb" src="images/01.jpg" onclick="currentDiv(5)">
        <img class="demo w3-opacity w3-hover-opacity-off ovthumb" src="images/02.jpg" onclick="currentDiv(6)">
        <img class="demo w3-opacity w3-hover-opacity-off ovthumb" src="images/03.jpg" onclick="currentDiv(7)">
        </div>
    </div>
</div>

<footer class="footer">
</footer>
<script type="text/javascript" src="lib.js"></script>
<script type="text/javascript" src="libtheme.js"></script>
<script type="text/javascript">
    let text           = "";
    let changelog      = "";
    let totaldownloads = 0;
    let cnt            = 0;
    //let releaseTag = "latest"; // Using tag 'latest' for latest released download count

    // get repo data
    let repouser = "thrive4"; // User name of the repository
    url = `https://api.github.com/users/${repouser}/repos`;
    //url = `github.json`;
    request = new XMLHttpRequest();
    request.open('GET', url, true);
    request.onload = function () {

        var objct = JSON.parse(this.response);
        Object.entries(objct).forEach((entry) => {
            const [key, value] = entry;
            //console.log(value.Id)
            //console.log(`${key}: ${value.Sample}`);
            //window.alert(`${key}${value.name}`);
            if (value.name.indexOf(".io") < 0 && value.visibility == "public" && value.private === false) {
                if (window.localStorage.getItem('theme') === 'dark') {
                   text += '<div class="cardcontainer"><div class="columnlist"><div class="cardlistdarkmode"><p>';
                } else {
                   text += '<div class="cardcontainer"><div class="columnlist"><div class="cardlist"><p>';
                }
                    // get release data
                    url = `https://api.github.com/repos/${repouser}/${value.name}/releases`;
                    request = new XMLHttpRequest();
                    request.open('GET', url, false);
                    request.onload = function () {
                        var objct2 = JSON.parse(this.response);
                        Object.entries(objct2).forEach((entry) => {
                            const [key2, value2] = entry;
                            if (value2.assets[0] !== undefined && value2.assets[0] !== null) {
                               totaldownloads += value2.assets[0].download_count;
                            }
                            if (cnt == 0) {
                               text += "<b>" + value2.name + "</b> / ";
                               cnt += 1;
                            };
                            changelog += value2.body + "<br>";
                            document.getElementById("reponame").innerHTML        = text;
                        });
                    };
                    request.send();
                    cnt = 0;
                text += value.description + "<br>";
                text += "last update<b> " + value.updated_at.substr(0, 10) + "</b><br>";
                text += changelog.substr(0, 120) + "..<br>";
                text += "downloads: " + totaldownloads + "<br>";
                text += '<a href="' + value.html_url + '">Source</a>' + " | ";
                text += '  <a href="' + value.html_url + '/releases">Release</a>';
                text += '</p></div></div></div>';
                totaldownloads = 0;
                changelog = "";
            };
        });
        document.getElementById("reponame").innerHTML = text;
        //console.log(text)
    };
    request.send();
    // clean up
    text = "";
    changelog = "";

</script>
</body>
</html>
